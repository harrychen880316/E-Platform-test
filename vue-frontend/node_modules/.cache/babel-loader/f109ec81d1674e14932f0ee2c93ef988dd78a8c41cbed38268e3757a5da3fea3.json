{"ast":null,"code":"import ProductServices from \"@/services/ProductServices\";\nexport default {\n  name: \"product-list\",\n  data() {\n    return {\n      product: [],\n      currentProduct: null,\n      currentIndex: -1,\n      title: \"\"\n    };\n  },\n  methods: {\n    retrieveProduct() {\n      ProductServices.getAll().then(response => {\n        this.product = response.data;\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    refreshList() {\n      this.retrieveProduct();\n      this.currentProduct = null;\n      this.currentIndex = -1;\n    },\n    setActiveProduct(product, index) {\n      this.currentProduct = product;\n      this.currentIndex = product ? index : -1;\n    },\n    removeAllProduct() {\n      ProductServices.deleteAll().then(response => {\n        console.log(response.data);\n        this.refreshList();\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    searchTitle() {\n      ProductServices.findByTitle(this.title).then(response => {\n        this.product = response.data;\n        this.setActiveProduct(null);\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n  mounted() {\n    this.retrieveProduct();\n  }\n};","map":{"version":3,"names":["ProductServices","name","data","product","currentProduct","currentIndex","title","methods","retrieveProduct","getAll","then","response","console","log","catch","e","refreshList","setActiveProduct","index","removeAllProduct","deleteAll","searchTitle","findByTitle","mounted"],"sources":["src/components/ProductList.vue"],"sourcesContent":["<template>\r\n  <div class=\"list row\">\r\n    <div class=\"col-md-8\">\r\n      <div class=\"input-group mb-3\">\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by title\"\r\n               v-model=\"title\"/>\r\n        <div class=\"input-group-append\">\r\n          <button class=\"btn btn-outline-secondary\" type=\"button\"\r\n                  @click=\"searchTitle\"\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <h4>Product List</h4>\r\n      <ul class=\"list-group\">\r\n        <li class=\"list-group-item\"\r\n            :class=\"{ active: index == currentIndex }\"\r\n            v-for=\"(product, index) in product\"\r\n            :key=\"index\"\r\n            @click=\"setActiveProduct(product, index)\"\r\n        >\r\n          {{ product.name }}\r\n        </li>\r\n      </ul>\r\n\r\n      <button class=\"m-3 btn btn-sm btn-danger\" @click=\"removeAllProduct\">\r\n        Remove All\r\n      </button>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <div v-if=\"currentProduct\">\r\n        <h4>商品</h4>\r\n        <div>\r\n          <label><strong>商品名稱:</strong></label> {{ currentProduct.name }}\r\n        </div>\r\n        <div>\r\n          <label><strong>價錢:</strong></label> {{ currentProduct.price }}\r\n        </div>\r\n        <div>\r\n          <label><strong>庫存:</strong></label> {{ currentProduct.stock }}\r\n        </div>\r\n\r\n        <router-link :to=\"'/product/' + currentProduct.id\" class=\"badge badge-warning\">Edit</router-link>\r\n      </div>\r\n      <div v-else>\r\n        <br />\r\n        <p>Please click on a Product...</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductServices from \"@/services/ProductServices\";\r\n\r\nexport default {\r\n  name: \"product-list\",\r\n  data() {\r\n    return {\r\n      product: [],\r\n      currentProduct: null,\r\n      currentIndex: -1,\r\n      title: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    retrieveProduct() {\r\n      ProductServices.getAll()\r\n          .then(response => {\r\n            this.product = response.data;\r\n            console.log(response.data);\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n    },\r\n\r\n    refreshList() {\r\n      this.retrieveProduct();\r\n      this.currentProduct = null;\r\n      this.currentIndex = -1;\r\n    },\r\n\r\n    setActiveProduct(product, index) {\r\n      this.currentProduct = product;\r\n      this.currentIndex = product ? index : -1;\r\n    },\r\n\r\n    removeAllProduct() {\r\n      ProductServices.deleteAll()\r\n          .then(response => {\r\n            console.log(response.data);\r\n            this.refreshList();\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n    },\r\n\r\n    searchTitle() {\r\n      ProductServices.findByTitle(this.title)\r\n          .then(response => {\r\n            this.product = response.data;\r\n            this.setActiveProduct(null);\r\n            console.log(response.data);\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.retrieveProduct();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.list {\r\n  text-align: left;\r\n  max-width: 750px;\r\n  margin: auto;\r\n}\r\n</style>\r\n"],"mappings":"AAwDA,OAAAA,eAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,cAAA;MACAC,YAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,gBAAA;MACAR,eAAA,CAAAS,MAAA,GACAC,IAAA,CAAAC,QAAA;QACA,KAAAR,OAAA,GAAAQ,QAAA,CAAAT,IAAA;QACAU,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAT,IAAA;MACA,GACAY,KAAA,CAAAC,CAAA;QACAH,OAAA,CAAAC,GAAA,CAAAE,CAAA;MACA;IACA;IAEAC,YAAA;MACA,KAAAR,eAAA;MACA,KAAAJ,cAAA;MACA,KAAAC,YAAA;IACA;IAEAY,iBAAAd,OAAA,EAAAe,KAAA;MACA,KAAAd,cAAA,GAAAD,OAAA;MACA,KAAAE,YAAA,GAAAF,OAAA,GAAAe,KAAA;IACA;IAEAC,iBAAA;MACAnB,eAAA,CAAAoB,SAAA,GACAV,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAT,IAAA;QACA,KAAAc,WAAA;MACA,GACAF,KAAA,CAAAC,CAAA;QACAH,OAAA,CAAAC,GAAA,CAAAE,CAAA;MACA;IACA;IAEAM,YAAA;MACArB,eAAA,CAAAsB,WAAA,MAAAhB,KAAA,EACAI,IAAA,CAAAC,QAAA;QACA,KAAAR,OAAA,GAAAQ,QAAA,CAAAT,IAAA;QACA,KAAAe,gBAAA;QACAL,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAT,IAAA;MACA,GACAY,KAAA,CAAAC,CAAA;QACAH,OAAA,CAAAC,GAAA,CAAAE,CAAA;MACA;IACA;EACA;EACAQ,QAAA;IACA,KAAAf,eAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}